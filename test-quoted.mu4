( This file is part of muFORTH: http://muforth.nimblemachines.com/

  Copyright 2002-2010 David Frech. All rights reserved, and all wrongs
  reversed. (See the file COPYRIGHT for details.)

: hallot   h +! ;
: hc,      here c!  1 hallot ;
: halign   here aligned  h ! ;

( Compile a counted string, without a zero terminator.)
: string,  ( a u)  dup  hc, ( len)
           here over  hallot  halign
           swap cmove ;

: count  ( string - a u)  dup 1+  swap c@ ;
: (")  ( - a u)  r@ count  dup 2 +  r> + aligned >r ;

compiler
: test"  char " parse  compile (")  string,  compile type ;
forth

: hi
  cr test" fuck you012345678"
  cr test" fuck you01234567"
  cr test" fuck you0123456"
  cr test" fuck you012345"
  cr test" fuck you01234"
  cr test" fuck you0123"
  cr test" fuck you012"
  cr test" fuck you01"
  cr test" fuck you0"
 ;

hi
cr .s

